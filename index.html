<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Gestion du covoiturage et des joueurs - Basket</title>
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-database.js"></script>
    <style>
        body { font-family: Arial, sans-serif; max-width: 800px; margin: 0 auto; padding: 20px; }
        h1, h2 { text-align: center; }
        form { margin-bottom: 20px; }
        input, button { margin: 5px 0; padding: 5px; }
        #covoiturageList, #joueursList { border-top: 1px solid #ccc; padding-top: 20px; }
        .section { margin-bottom: 40px; }
    </style>
</head>
<body>
    <h1>Gestion du covoiturage et des joueurs - Basket</h1>
    
    <div class="section">
        <h2>Ajouter un covoiturage</h2>
        <form id="covoiturageForm">
            <input type="text" id="nom" placeholder="Nom du conducteur" required>
            <input type="datetime-local" id="dateHeure" required>
            <input type="number" id="places" placeholder="Nombre de places disponibles" required min="1">
            <button type="submit">Ajouter un covoiturage</button>
        </form>
        <div id="covoiturageList"></div>
    </div>

    <div class="section">
        <h2>Ajouter un joueur</h2>
        <form id="joueurForm">
            <input type="text" id="nomJoueur" placeholder="Nom du joueur" required>
            <button type="submit">Ajouter un joueur</button>
        </form>
        <div id="joueursList"></div>
    </div>

    <script>
        // Configuration de Firebase (à remplacer par vos propres informations)
        const firebaseConfig = {
            apiKey: "VOTRE_API_KEY",
            auapiKey: "AIzaSyBfr0A4LZbuFc8D8MI0wL_nfzO3Atbcqwk",
  authDomain: "covoiturage-u15.firebaseapp.com",
  databaseURL: "https://covoiturage-u15-default-rtdb.firebaseio.com",
  projectId: "covoiturage-u15",
  storageBucket: "covoiturage-u15.appspot.com",
  messagingSenderId: "83669001760",
  appId: "1:83669001760:web:b0d65f3832344dd928be45"
        };

        // Initialisation de Firebase
        firebase.initializeApp(firebaseConfig);
        const database = firebase.database();

        // Référence à la liste de covoiturage dans la base de données
        const covoiturageRef = database.ref('covoiturage');
        // Référence à la liste de joueurs dans la base de données
        const joueursRef = database.ref('joueurs');

        // Fonction pour ajouter un covoiturage
        document.getElementById('covoiturageForm').addEventListener('submit', function(e) {
            e.preventDefault();
            const nom = document.getElementById('nom').value;
            const dateHeure = document.getElementById('dateHeure').value;
            const places = document.getElementById('places').value;

            covoiturageRef.push({
                nom: nom,
                dateHeure: dateHeure,
                places: places
            });

            this.reset();
        });

        // Fonction pour ajouter un joueur
        document.getElementById('joueurForm').addEventListener('submit', function(e) {
            e.preventDefault();
            const nom = document.getElementById('nomJoueur').value;

            joueursRef.push({
                nom: nom
            });

            this.reset();
        });

        // Fonction pour afficher les covoiturages
        covoiturageRef.on('value', function(snapshot) {
            const covoiturageList = document.getElementById('covoiturageList');
            covoiturageList.innerHTML = '<h3>Liste des covoiturages</h3>';
            snapshot.forEach(function(childSnapshot) {
                const covoiturage = childSnapshot.val();
                const covoiturageItem = document.createElement('div');
                covoiturageItem.innerHTML = `
                    <p><strong>${covoiturage.nom}</strong> - Date et heure : ${covoiturage.dateHeure}</p>
                    <p>Places disponibles : ${covoiturage.places}</p>
                    <hr>
                `;
                covoiturageList.appendChild(covoiturageItem);
            });
        });

        // Fonction pour afficher les joueurs
        joueursRef.on('value', function(snapshot) {
            const joueursList = document.getElementById('joueursList');
            joueursList.innerHTML = '<h3>Liste des joueurs</h3>';
            snapshot.forEach(function(childSnapshot) {
                const joueur = childSnapshot.val();
                const joueurItem = document.createElement('div');
                joueurItem.innerHTML = `
                    <p><strong>${joueur.nom}</strong></p>
                    <hr>
                `;
                joueursList.appendChild(joueurItem);
            });
        });
    </script>
</body>
</html>
